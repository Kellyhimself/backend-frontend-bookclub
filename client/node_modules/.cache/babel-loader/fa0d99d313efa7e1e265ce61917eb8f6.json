{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/kellyhimself/Development/phase-4/Backend-Bookclub/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import React,{useState}from\"react\";import{useParams}from\"react-router-dom\";import styled from\"styled-components\";//import Comments from \"../components/Comment\";\nimport NewComment from\"../components/NewComment.js\";//import CommentList from \"../components/CommentList.js\";\n//import DicussionModal from \"../components/CommentList.js\";\nconst testUser={username:\"Duane\"};//sample bookclub for testing\nconst testClub={id:1,name:\"Social Justice\",books:[{id:1,title:\"reject finance bill\"},{id:2,title:\"must go\"}],cover:\"https://i.pinimg.com/736x/28/8d/e3/288de3c1d0b35cc50bc018acb879573c.jpg\",description:\"Books focusing on social issues and activism.\",genre:\"Social Justice\",members:[{id:1,name:\"Kelly1\"},{id:2,name:\"Kelly2\"},{id:3,name:\"Kelly3\"},{id:4,name:\"Kelly4\"}],comments:[{rname:\"User1\",body:\"Great club!\",created_at:\"2024-07-12T10:30:00Z\"},{id:2,username:\"User2\",body:\"I love the discussions here.\",created_at:\"2024-07-12T11:15:00Z\"}]};const BookClubPage=()=>{const[bookClub]=useState(null);const{id}=useParams();const[setComments]=useState([]);//const [user, setUser] = useState(null); // Placeholder for user, ensure it's defined\n//Fetch the clicked bookclub\n/*   useEffect(() => {\n    fetch(`/book_clubs/${id}`)\n      .then((response) => response.json())\n      .then((data) => setBookClub(data));\n  }, [id]);\n\n  if (!bookClub) {\n    return <Loading>Loading...</Loading>;\n  }\n */ //fetch comments from the database\nconst handleAddComment=newComment=>{fetch(\"/book_clubs/\".concat(id,\"/comments\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(newComment)}).then(response=>{if(response.status===201){// Comment added successfully\nalert(\"comment added\");}else{// Handle error\nalert(\"there was an error adding your comment\");}}).catch(error=>{// Handle error\n});if(!bookClub){return/*#__PURE__*/React.createElement(Loading,null,\"Loading...\");}setComments([...testClub.comments,newComment]);};// const handleDeleteComment = (id) => {\n//   const updatedComments = comments.filter((comment) => comment.id !== id);\n//   setComments(updatedComments);\n// };\n// const handleUpdateComment = (updatedCommentObj) => {\n//   const updatedComment = comments.map((comment) => {\n//     if (comment.id === updatedCommentObj.id) {\n//       return updatedCommentObj;\n//     } else {\n//       return comment;\n//     }\n//   });\n//   setComments(updatedComment);\n// };\nreturn/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Header,null,/*#__PURE__*/React.createElement(\"h1\",null,testClub.name),/*#__PURE__*/React.createElement(\"p\",null,testClub.description)),/*#__PURE__*/React.createElement(Section,null,/*#__PURE__*/React.createElement(\"h2\",null,\"Members\"),/*#__PURE__*/React.createElement(\"ul\",null,testClub.members.map(member=>/*#__PURE__*/React.createElement(\"li\",{key:member.id},member.name)))),/*#__PURE__*/React.createElement(Section,null,/*#__PURE__*/React.createElement(\"h2\",null,\"Available Books\"),/*#__PURE__*/React.createElement(\"ul\",null,testClub.books.map(book=>/*#__PURE__*/React.createElement(\"li\",{key:book.id},book.title))),/*#__PURE__*/React.createElement(\"h2\",null,\"Comments\"),/*#__PURE__*/React.createElement(\"ul\",null,testClub.comments.map(comment=>/*#__PURE__*/React.createElement(\"li\",{key:comment.username},comment.body))),/*#__PURE__*/React.createElement(NewComment,{currentUser:testUser,onAddComment:handleAddComment})));};const Loading=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  padding: 20px;\\n  font-size: 1.5rem;\\n  color: #555;\\n\"])));const Container=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  padding: 20px;\\n\"])));const Header=styled.header(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  margin-bottom: 20px;\\n\\n  h1 {\\n    font-size: 2rem;\\n    color: #333;\\n  }\\n\\n  p {\\n    font-size: 1.2rem;\\n    color: #666;\\n  }\\n\"])));const Section=styled.section(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  margin-bottom: 20px;\\n\\n  h2 {\\n    font-size: 1.5rem;\\n    color: #333;\\n  }\\n\\n  ul {\\n    list-style: none;\\n    padding: 0;\\n\\n    li {\\n      background: #f9f9f9;\\n      margin: 5px 0;\\n      padding: 10px;\\n      border-radius: 5px;\\n    }\\n  }\\n\"])));export default BookClubPage;","map":{"version":3,"names":["React","useState","useParams","styled","NewComment","testUser","username","testClub","id","name","books","title","cover","description","genre","members","comments","rname","body","created_at","BookClubPage","bookClub","setComments","handleAddComment","newComment","fetch","concat","method","headers","JSON","stringify","then","response","status","alert","catch","error","createElement","Loading","Container","Header","Section","map","member","key","book","comment","currentUser","onAddComment","div","_templateObject","_taggedTemplateLiteral","_templateObject2","header","_templateObject3","section","_templateObject4"],"sources":["/home/kellyhimself/Development/phase-4/Backend-Bookclub/client/src/pages/BookClubPage.js"],"sourcesContent":["import React, {useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport styled from \"styled-components\";\n//import Comments from \"../components/Comment\";\nimport NewComment from \"../components/NewComment.js\";\n//import CommentList from \"../components/CommentList.js\";\n//import DicussionModal from \"../components/CommentList.js\";\n\nconst testUser = { username: \"Duane\" };\n//sample bookclub for testing\nconst testClub = {\n  id: 1,\n  name: \"Social Justice\",\n  books: [\n    { id: 1, title: \"reject finance bill\" },\n    { id: 2, title: \"must go\" },\n  ],\n  cover:\n    \"https://i.pinimg.com/736x/28/8d/e3/288de3c1d0b35cc50bc018acb879573c.jpg\",\n  description: \"Books focusing on social issues and activism.\",\n  genre: \"Social Justice\",\n  members: [\n    { id: 1, name: \"Kelly1\" },\n    { id: 2, name: \"Kelly2\" },\n    { id: 3, name: \"Kelly3\" },\n    { id: 4, name: \"Kelly4\" },\n  ],\n  comments: [\n    {\n      rname: \"User1\",\n      body: \"Great club!\",\n      created_at: \"2024-07-12T10:30:00Z\",\n    },\n    {\n      id: 2,\n      username: \"User2\",\n      body: \"I love the discussions here.\",\n      created_at: \"2024-07-12T11:15:00Z\",\n    },\n  ],\n};\n\nconst BookClubPage = () => {\n  const [bookClub] = useState(null);\n  const { id } = useParams();\n  const [setComments] = useState([]);\n  //const [user, setUser] = useState(null); // Placeholder for user, ensure it's defined\n\n  //Fetch the clicked bookclub\n  /*   useEffect(() => {\n    fetch(`/book_clubs/${id}`)\n      .then((response) => response.json())\n      .then((data) => setBookClub(data));\n  }, [id]);\n\n  if (!bookClub) {\n    return <Loading>Loading...</Loading>;\n  }\n */\n\n  //fetch comments from the database\n  const handleAddComment = (newComment) => {\n    fetch(`/book_clubs/${id}/comments`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(newComment),\n    })\n      .then((response) => {\n        if (response.status === 201) {\n          // Comment added successfully\n          alert(\"comment added\");\n        } else {\n          // Handle error\n          alert(\"there was an error adding your comment\");\n        }\n      })\n      .catch((error) => {\n        // Handle error\n      });\n\n    if (!bookClub) {\n      return <Loading>Loading...</Loading>;\n    }\n\n    setComments([...testClub.comments, newComment]);\n  };\n\n  // const handleDeleteComment = (id) => {\n  //   const updatedComments = comments.filter((comment) => comment.id !== id);\n  //   setComments(updatedComments);\n  // };\n\n  // const handleUpdateComment = (updatedCommentObj) => {\n  //   const updatedComment = comments.map((comment) => {\n  //     if (comment.id === updatedCommentObj.id) {\n  //       return updatedCommentObj;\n  //     } else {\n  //       return comment;\n  //     }\n  //   });\n  //   setComments(updatedComment);\n  // };\n\n  return (\n    <Container>\n      <Header>\n        <h1>{testClub.name}</h1>\n        <p>{testClub.description}</p>\n      </Header>\n      <Section>\n        <h2>Members</h2>\n        <ul>\n          {testClub.members.map((member) => (\n            <li key={member.id}>{member.name}</li>\n          ))}\n        </ul>\n      </Section>\n      <Section>\n        <h2>Available Books</h2>\n        <ul>\n          {testClub.books.map((book) => (\n            <li key={book.id}>{book.title}</li>\n          ))}\n        </ul>\n\n        <h2>Comments</h2>\n        <ul>\n          {testClub.comments.map((comment) => (\n            <li key={comment.username}>{comment.body}</li>\n          ))}\n        </ul>\n        {/* <CommentList\n          comments={comments}\n          onCommentUpdate={handleUpdateComment}\n          onCommentDelete={handleDeleteComment}\n        /> */}\n        <NewComment currentUser={testUser} onAddComment={handleAddComment} />\n      </Section>\n    </Container>\n  );\n};\n\nconst Loading = styled.div`\n  text-align: center;\n  padding: 20px;\n  font-size: 1.5rem;\n  color: #555;\n`;\n\nconst Container = styled.div`\n  padding: 20px;\n`;\n\nconst Header = styled.header`\n  margin-bottom: 20px;\n\n  h1 {\n    font-size: 2rem;\n    color: #333;\n  }\n\n  p {\n    font-size: 1.2rem;\n    color: #666;\n  }\n`;\n\nconst Section = styled.section`\n  margin-bottom: 20px;\n\n  h2 {\n    font-size: 1.5rem;\n    color: #333;\n  }\n\n  ul {\n    list-style: none;\n    padding: 0;\n\n    li {\n      background: #f9f9f9;\n      margin: 5px 0;\n      padding: 10px;\n      border-radius: 5px;\n    }\n  }\n`;\n\nexport default BookClubPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}