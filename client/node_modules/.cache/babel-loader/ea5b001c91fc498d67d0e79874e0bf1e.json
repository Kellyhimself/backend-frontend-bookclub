{"ast":null,"code":"import React,{useState}from\"react\";import{Button,FormField,Input,Label}from\"../styles/tt\";const SignUpForm=_ref=>{let{onLogin}=_ref;const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");const[email,setEmail]=useState(\"\");const[errors,setErrors]=useState([]);const[isLoading,setIsLoading]=useState(false);function handleSubmit(e){e.preventDefault();setErrors([]);setIsLoading(true);fetch(\"https://backend-bookclub-ftv9.onrender.com/signup\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username,password,email})}).then(r=>{setIsLoading(false);if(r.ok){r.json().then(user=>onLogin(user));}else{r.json().then(err=>setErrors(err.errors));}});}return/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(FormField,null,/*#__PURE__*/React.createElement(Label,{htmlFor:\"username\"},\"Username\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",id:\"username\",autoComplete:\"off\",value:username,onChange:e=>setUsername(e.target.value)})),/*#__PURE__*/React.createElement(FormField,null,/*#__PURE__*/React.createElement(Label,{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(Input,{type:\"password\",id:\"password\",value:password,onChange:e=>setPassword(e.target.value),autoComplete:\"current-password\"})),/*#__PURE__*/React.createElement(FormField,null,/*#__PURE__*/React.createElement(Label,{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(Input,{type:\"email\",id:\"email\",value:email,onChange:e=>setEmail(e.target.value),autoComplete:\"current-email\"})),/*#__PURE__*/React.createElement(FormField,null,/*#__PURE__*/React.createElement(Button,{type:\"submit\"},isLoading?\"Loading...\":\"Sign Up\")),errors.length>0&&/*#__PURE__*/React.createElement(FormField,null,errors.map((error,index)=>/*#__PURE__*/React.createElement(\"p\",{key:index},error))));};export default SignUpForm;","map":{"version":3,"names":["React","useState","Button","FormField","Input","Label","SignUpForm","_ref","onLogin","username","setUsername","password","setPassword","email","setEmail","errors","setErrors","isLoading","setIsLoading","handleSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","r","ok","json","user","err","createElement","onSubmit","htmlFor","type","id","autoComplete","value","onChange","target","length","map","error","index","key"],"sources":["/home/kellyhimself/Development/phase-4/Backend-Bookclub/client/src/components/SignUpForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Button, FormField, Input, Label } from \"../styles/tt\";\n\nconst SignUpForm = ({ onLogin }) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n\n  const [errors, setErrors] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setErrors([]);\n    setIsLoading(true);\n    fetch(\"https://backend-bookclub-ftv9.onrender.com/signup\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        username,\n        password,\n        email,\n      }),\n    }).then((r) => {\n      setIsLoading(false);\n      if (r.ok) {\n        r.json().then((user) => onLogin(user));\n      } else {\n        r.json().then((err) => setErrors(err.errors));\n      }\n    });\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <FormField>\n        <Label htmlFor=\"username\">Username</Label>\n        <Input\n          type=\"text\"\n          id=\"username\"\n          autoComplete=\"off\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n        />\n      </FormField>\n      <FormField>\n        <Label htmlFor=\"password\">Password</Label>\n        <Input\n          type=\"password\"\n          id=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          autoComplete=\"current-password\"\n        />\n      </FormField>\n      <FormField>\n        <Label htmlFor=\"email\">Email</Label>\n        <Input\n          type=\"email\"\n          id=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          autoComplete=\"current-email\"\n        />\n      </FormField>\n\n      <FormField>\n        <Button type=\"submit\">{isLoading ? \"Loading...\" : \"Sign Up\"}</Button>\n      </FormField>\n\n      {errors.length > 0 && (\n        <FormField>\n          {errors.map((error, index) => (\n            <p key={index}>{error}</p>\n          ))}\n        </FormField>\n      )}\n    </form>\n  );\n};\n\nexport default SignUpForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}